{% extends 'bursary/main.html' %}

{% block content %}

<br>

<div class="row">
    <div class="col">
        <div class="col-md">
            <div class="card card-body" style="background-color:#f8f9fa; border-radius: 10px; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
                <h5 style="text-align:center; font-weight:bold;">Total Bookings</h5>
                <hr>
                <h1 style="text-align:center; padding: 10px; color:#007bff;">{{application_count}}</h1>
            </div>
        </div>
    </div>

    <div class="col-md">
        <div class="card card-body" style="background-color:#f8f9fa; border-radius: 10px; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
            <h5 style="text-align:center; font-weight:bold;">Profile Information</h5>
            <hr>
            <p><strong>Email:</strong> {{student.email}}</p>
            <p><strong>Phone:</strong> {{student.phone}}</p>
        </div>
    </div>

    <div class="col">
        <div class="col-md">
            <div class="card card-body" style="background-color:#f8f9fa; border-radius: 10px; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
                <h5 style="text-align:center; font-weight:bold;">Book BnB</h5>
                <hr>
                <a class="btn btn-info btn-block" href="{% url 'create_application' student.id %}" style="border-radius: 5px; font-weight: bold;">Book</a>
            </div>
        </div>
    </div>
</div>

<br>

<br>

<div class="row">
    <div class="col">
        <div class="col-md">
            <div class="card card-body" style="background-color:#f8f9fa; border-radius: 10px; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
                <table class="table table-sm" style="border-collapse: separate; border-spacing: 10px;">
                    <thead>
                        <tr>
                            <th style="font-weight:bold;">BnB Name</th>
                            <th style="font-weight:bold;">Category</th>
                            <th style="font-weight:bold;">Date Booked</th>
                            <th style="font-weight:bold;">Status</th>
                            <th style="font-weight:bold;">Update</th>
                            <th style="font-weight:bold;">Remove</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for application in applications %}
                        <tr>
                            <td>{{application.bursary}}</td>
                            <td>{{application.bursary.category}}</td>
                            <td>{{application.date_created}}</td>
                            <td>{{application.status}}</td>
                            <td><a class="btn btn-sm btn-warning" href="{% url 'update_application' application.id %}" style="border-radius: 5px;">Update</a></td>
                            <td><a class="btn btn-sm btn-danger" href="{% url 'delete_application' application.id %}" style="border-radius: 5px;">Delete</a></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

{% endblock %}
