{% extends 'bursary/main.html' %}

{% block content %}

{% include 'bursary/status.html' %}

<div class="row" style="display: flex; gap: 20px; margin-top: 20px;">
    <div class="col-md-5" style="flex: 1; background-color: #f9f9f9; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
        <h5 style="color: #333; font-size: 18px; font-weight: bold; margin-bottom: 10px;">CLIENTS:</h5>
        <hr style="border: 1px solid #ddd;">
        <div class="card card-body" style="padding: 15px; background-color: #fff; border-radius: 8px; border: 1px solid #ddd;">
            <a class="btn btn-primary btn-sm btn-info" href="" style="margin-bottom: 15px; display: inline-block; padding: 8px 12px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px;">
                Client Details
            </a>
            <table class="table table-sm" style="width: 100%; border-collapse: collapse; font-size: 14px; margin-top: 10px;">
                <tr style="background-color: #007bff; color: white; text-align: left;">
                    <th style="padding: 10px;">Client's Name</th>
                    <th style="padding: 10px;">BnB Booked</th>
                    <th style="padding: 10px;"></th>
                </tr>
                {% for student in students %}
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 10px;">{{ student.name }}</td>
                    <td style="padding: 10px;">{{ student.ward }}</td>
                    <td style="padding: 10px;">
                        <a class="btn btn-sm btn-info" href="{% url 'student' student.id %}" style="padding: 6px 10px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px;">View Client</a>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>

    <div class="col-md-7" style="flex: 2; background-color: #f9f9f9; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
        <h5 style="color: #333; font-size: 18px; font-weight: bold; margin-bottom: 10px;">BOOKINGS:</h5>
        <hr style="border: 1px solid #ddd;">
        <div class="card card-body" style="padding: 15px; background-color: #fff; border-radius: 8px; border: 1px solid #ddd;">
            <table class="table table-sm" style="width: 100%; border-collapse: collapse; font-size: 14px; margin-top: 10px;">
                <tr style="background-color: #007bff; color: white; text-align: left;">
                    <th style="padding: 10px;">BnB Name</th>
                    <th style="padding: 10px;">Date Booked</th>
                    <th style="padding: 10px;">Status</th>
                    <th style="padding: 10px;">Price</th>
                    <th style="padding: 10px;">Update</th>
                    <th style="padding: 10px;">Remove</th>
                </tr>
                {% for application in applications %}
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 10px;">{{ application.bursary }}</td>
                    <td style="padding: 10px;">{{ application.date_created }}</td>
                    <td style="padding: 10px;">{{ application.status }}</td>
                    <td style="padding: 10px;">{{ application.applyAmount }}</td>
                    <td style="padding: 10px;">
                        <a class="btn btn-sm btn-warning" href="{% url 'update_application' application.id %}" style="padding: 6px 10px; background-color: #ffc107; color: black; text-decoration: none; border-radius: 5px;">Update</a>
                    </td>
                    <td style="padding: 10px;">
                        <a class="btn btn-sm btn-danger" href="{% url 'delete_application' application.id %}" style="padding: 6px 10px; background-color: #dc3545; color: white; text-decoration: none; border-radius: 5px;">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
</div>

{% endblock %}
